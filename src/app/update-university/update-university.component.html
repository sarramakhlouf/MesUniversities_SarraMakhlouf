<div class="container">
    <div>
        <h2>Modifier les données d'une université :</h2>
    </div>
    <form #universityForm="ngForm">
        <div class="row">
            <!-- ID Université (caché) -->
            <div class="col-sm-2 col-md-2 col-lg-2">
                <label>ID université</label>
                <input type="text" [(ngModel)]= "currentUniversity!.idUni" name="idUni" class="form-control">
            </div>
            <!-- Nom Université -->
            <div class="col-sm-4 col-md-4 col-lg-4">
                <label>Nom université</label>
                <input type="text" [(ngModel)] = "currentUniversity!.nomUni" name="nomUni" class="form-control"#nomUni="ngModel" required>
            </div>
            <!-- Adresse Université -->
            <div class="col-sm-2 col-md-2 col-lg-2">
                <label>Adresse Université</label>
                <input type="text" [(ngModel)]= "currentUniversity!.adresseUni" name="adresseUni" class="form-control" #adresseUni="ngModel" required>
            </div>
            <!-- Date de Création -->
            <div class="col-sm-4 col-md-4 col-lg-4">
                <label>Date création</label>
                <input type="date" [(ngModel)]= "currentUniversity!.dateCreation" name="dateCreation" class="form-control" #dateCreation="ngModel" required>
            </div>
            <!-- Nombre d'Étudiants -->
            <div class="col-sm-2 col-md-2 col-lg-2">
                <label>Nombre des étudiants</label>
                <input type="number" [(ngModel)]= "currentUniversity!.nombreEtudiants" name="nombreEtudiants" class="form-control" min=1000 max=10000 #nombreEtudiants="ngModel" required>
            </div>
            <!-- Domaines -->
            <div class="col-sm-4 col-md-4 col-lg-4">
                <label>Domaines</label>
                <select class="form-control" [(ngModel)]= "updatedDomId" name="idDom"  #idDom="ngModel" required>
                    <option *ngFor="let Dom of domaines" [value]="Dom.idDom">{{ Dom.nomDom }}</option>
                </select>
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4">
                <label>Email</label>
                <input type="email" [(ngModel)]= "currentUniversity!.email" name="email" class="form-control" required email minlength="5" #email="ngModel" pattern="[a-z0-9._%+-]+@gmail.com">
                <!-- Message d'erreur si l'email n'est pas valide -->
                <div *ngIf="email.invalid && email.touched">
                    <small class="text-danger" *ngIf="email.errors?.['required']">L'email est requis.</small>
                    <small class="text-danger" *ngIf="email.errors?.['email']">Format d'email invalide.</small>
                    <small class="text-danger" *ngIf="email.errors?.['minlength']">L'email doit contenir au moins 5 caractères.</small>
                    <small class="text-danger" *ngIf="email.errors?.['pattern']">L'email doit appartenir au domaine gmail.com.</small>
                </div>
            </div>
        </div>
        <!-- Bouton de soumission -->
        <div class="mt-2">
            <button type="submit" (click)="updateUniversity()" [disabled]= "universityForm.invalid" class="btn btn-success">
                Modifier
            </button>
        </div>
    </form>
</div>
